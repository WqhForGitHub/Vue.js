# 5.1 什么是虚拟 DOM





# 5.2 为什么要引入虚拟 DOM

在 Vue.js 1.0 中，当状态发生变化时，它在一定程度上知道哪些节点使用了这个状态，从而对这些节点进行更新操作，根本不需要比对。但是这样做其实也有一定的代价。因为粒度太细，**`每一个绑定都会有一个对应的 watcher 来观察状态的变化，这样就会有一些内存开销以及一些依赖追踪的开销`** 。**`当状态被越多的节点使用时，开销就越大。对于一个大型项目来说，这个开销是非常大的`** 。

因此，Vue.js 2.0 开始选择了一个中等粒度的解决方案，那就是引入了虚拟 DOM。**`组件级别是一个 watcher 实例，就是说即便一个组件内有 10 个节点使  用了某个状态，但其实也只有一个 watcher 在观察这个状态的变化`** 。所以当这个状态发生变化时，只能通知到组件，然后组件内部通过虚拟 DOM 去进行比对和渲染。这是一个比较折中的方案。





# 5.3 Vue.js 中的虚拟 DOM

​                            



